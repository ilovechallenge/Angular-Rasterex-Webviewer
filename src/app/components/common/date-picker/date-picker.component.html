<div class="rx-date-picker-container">
    <div
        class="rx-date-picker-wrapper"
        [class.opened]="opened">
        <span class="date">
            {{date}}
        </span>
        <span class="icon calendar" (click)="opened = !opened"></span>
    </div>
    <div *ngIf="opened" class="rx-calendar-container">
        <div class="rx-calendar-wrapper">
            <div class="calendar-month-select">
                <svg (click)="handlePrevMonth()" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 6L8 10" stroke="#A4ABAE" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 14L8 10" stroke="#A4ABAE" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div>{{month}}</div>
                <svg (click)="handleNextMonth()" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 14L12 10" stroke="#A4ABAE" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M8 6L12 10" stroke="#A4ABAE" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="calendar">
                <div class="week-days-titles">
                    <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
                </div>
                <div
                    *ngFor="let item of calendar;"
                    class="calendar-row">
                    <div
                        *ngFor="let date of item.dates;"
                        class="week-day-wrapper"
                        [class.in-range]="isDateInRange(date.date)"
                        [class.start-date]="isStartDate(date.date)"
                        [class.end-date]="isEndDate(date.date)">
                        <div class="background"></div>
                        <span
                            class="week-day"
                            [class.not-from-selected-month]="!date.fromSelectedMonth"
                            (click)="handleSelectDate(date.date)">
                            {{date.day}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="quick-range-selector">
                <span
                    role="button"
                    [class.selected]="isRangeSelected(option)"
                    *ngFor="let option of quickOptions"
                    (click)="onQuickOptionSelect(option)">
                        {{option.title}}
                </span>
            </div>
        </div>
    </div>
</div>
